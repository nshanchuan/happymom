<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¥å¦ˆå¦ˆç”Ÿæ—¥å¿«ä¹ï¼</title>
    <!-- å¼•å…¥ Tailwind CSS ç”¨äºå¿«é€Ÿå¸ƒå±€ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- å¼•å…¥å¯çˆ±çš„ä¸­æ–‡æ‰‹å†™å­—ä½“ -->
    <link href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=ZCOOL+KuaiLe&display=swap" rel="stylesheet">
    
    <style>
        /* è‡ªå®šä¹‰æ ·å¼ */
        body {
            font-family: 'Ma Shan Zheng', cursive;
            background: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%);
            overflow: hidden; /* é˜²æ­¢æ»šåŠ¨æ¡å‡ºç° */
        }

        .bg-gradient-pink {
            background: linear-gradient(120deg, #fccb90 0%, #d57eeb 100%);
        }

        /* ä¿¡å°åŠ¨ç”»æ•ˆæœ */
        .envelope-wrapper {
            perspective: 1000px;
        }
        
        .card {
            transform-style: preserve-3d;
            transition: transform 1s;
        }

        .card.open {
            transform: rotateY(180deg);
        }

        .card-front, .card-back {
            backface-visibility: hidden;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 1rem;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .card-back {
            transform: rotateY(180deg);
            background: white;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        /* é¡µé¢åˆ‡æ¢åŠ¨ç”» */
        .page-content {
            display: none;
            flex-direction: column;
            align-items: center;
            width: 100%;
            height: 100%;
            padding: 1.5rem;
            animation: fadeIn 0.5s ease-in-out;
            overflow-y: auto; /* å†…å®¹å¤šäº†å¯ä»¥æ»šåŠ¨ */
        }

        .page-content.active {
            display: flex;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ç¥ç¦è¯­é€è¡Œæ˜¾ç¤ºåŠ¨ç”» */
        .message-text {
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease-out;
        }
        
        .page-content.active .message-text {
            opacity: 1;
            transform: translateY(0);
        }

        /* å…‘æ¢åˆ¸æ ·å¼ */
        .coupon {
            background: #fff0f5;
            border: 2px dashed #ff69b4;
            padding: 10px;
            margin: 5px;
            border-radius: 8px;
            width: 90%;
            text-align: center;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .coupon:hover {
            transform: scale(1.05);
            background: #ffe6f0;
        }

        /* æµ®åŠ¨æ°”çƒåŠ¨ç”» */
        .floating-balloon {
            position: absolute;
            animation: floatUp linear infinite;
            z-index: 10; /* æé«˜å±‚çº§ï¼Œè®©å®ƒåœ¨æœ€ä¸Šé¢ */
            opacity: 0.8;
            cursor: pointer; /* é¼ æ ‡æ”¾ä¸Šå»å˜æˆå°æ‰‹ */
            pointer-events: auto; /* å…è®¸ç‚¹å‡» */
            user-select: none; /* é˜²æ­¢é€‰ä¸­æ–‡å­— */
            transition: transform 0.1s; /* ç‚¹å‡»åŠ¨ç”» */
        }
        
        .floating-balloon:active {
            transform: scale(0.9);
        }

        @keyframes floatUp {
            0% { transform: translateY(100vh) scale(0.8); opacity: 0; }
            20% { opacity: 0.8; }
            80% { opacity: 0.8; }
            100% { transform: translateY(-10vh) scale(1.2); opacity: 0; }
        }

        /* è›‹ç³•èœ¡çƒ›é—ªçƒåŠ¨ç”» */
        .flame {
            animation: flicker 1s infinite alternate;
        }
        @keyframes flicker {
            0% { transform: scale(1); opacity: 0.9; }
            100% { transform: scale(1.1); opacity: 1; }
        }
    </style>
</head>
<body class="h-screen w-screen flex items-center justify-center bg-pink-50 relative">

    <!-- æµ®åŠ¨èƒŒæ™¯å®¹å™¨ (æ³¨æ„ï¼šå»æ‰äº† pointer-events-noneï¼Œè®©å†…éƒ¨çš„æ°”çƒå¯ä»¥ç‚¹å‡») -->
    <div id="balloons-container" class="absolute inset-0 overflow-hidden pointer-events-none"></div>

    <!-- ç”»å¸ƒç”¨äºå½©å¸¦ç‰¹æ•ˆ -->
    <canvas id="confetti-canvas" class="absolute inset-0 z-50 pointer-events-none"></canvas>

    <!-- ä¸»å†…å®¹åŒº -->
    <div class="envelope-wrapper w-[90%] max-w-md h-[600px] cursor-pointer group z-20" onclick="openCard()">
        <div id="card" class="card relative w-full h-full">
            
            <!-- å¡ç‰‡å°é¢ -->
            <div class="card-front bg-gradient-pink flex flex-col items-center justify-center text-white p-6 border-4 border-white/50">
                <div class="text-6xl mb-4 animate-bounce">ğŸ</div>
                <h1 class="text-4xl font-bold mb-2 drop-shadow-md text-center">äº²çˆ±çš„å¦ˆå¦ˆ</h1>
                <p class="text-xl opacity-90">è¯·ç‚¹å‡»æ‰“å¼€ä½ çš„ç¤¼ç‰©</p>
                <div class="mt-8 text-sm opacity-75">Made with â¤ï¸ by ä½ çš„å­©å­, å±±å· </div>
            </div>

            <!-- å¡ç‰‡å†…éƒ¨ -->
            <div class="card-back border-4 border-pink-200 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] relative">
                
                <!-- ç¬¬ä¸€é¡µï¼šç”Ÿæ—¥ç¥ç¦ -->
                <div id="page-1" class="page-content active">
                    <svg class="w-20 h-20 mb-2" viewBox="0 0 512 512" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M410.5 282.6C408.8 282.6 407.2 283.1 405.8 284.1C400.9 287.4 394.4 286.1 391.1 281.2C387.8 276.3 389.1 269.8 394 266.5C401.3 261.6 403.3 251.7 398.4 244.4C393.5 237.1 383.6 235.1 376.3 240C371.4 243.3 364.9 242 361.6 237.1C358.3 232.2 359.6 225.7 364.5 222.4C379.2 212.5 398.9 216.5 408.8 231.2C418.7 245.9 414.7 265.6 400 275.5C400.9 276.1 401.7 276.8 402.3 277.7C405.6 282.6 404.3 289.1 399.4 292.4C398 293.3 396.4 293.8 394.7 293.8H117.3C115.6 293.8 114 293.3 112.6 292.4C107.7 289.1 106.4 282.6 109.7 277.7C110.3 276.8 111.1 276.1 112 275.5C97.3 265.6 93.3 245.9 103.2 231.2C113.1 216.5 132.8 212.5 147.5 222.4C152.4 225.7 153.7 232.2 150.4 237.1C147.1 242 140.6 243.3 135.7 240C128.4 235.1 118.5 237.1 113.6 244.4C108.7 251.7 110.7 261.6 118 266.5C122.9 269.8 124.2 276.3 120.9 281.2C117.6 286.1 111.1 287.4 106.2 284.1C104.8 283.1 103.2 282.6 101.5 282.6H80C57.9 282.6 40 300.5 40 322.6V448H472V322.6C472 300.5 454.1 282.6 432 282.6H410.5Z" fill="#F8B4D9"/>
                        <path d="M256 160C264.8 160 272 167.2 272 176V256H240V176C240 167.2 247.2 160 256 160Z" fill="#FDE047"/>
                        <circle cx="256" cy="140" r="10" fill="#F87171" class="flame"/>
                        <rect x="40" y="360" width="432" height="40" fill="#F472B6"/>
                    </svg>
                    <h2 class="text-2xl font-bold text-pink-600 mb-2" style="font-family: 'ZCOOL KuaiLe'">ç”Ÿæ—¥å¿«ä¹ï¼</h2>
                    
                    <div class="text-base space-y-2 text-gray-700 text-center leading-relaxed">
                        <p class="message-text" style="transition-delay: 100ms">äº²çˆ±çš„å¦ˆå¦ˆï¼š</p>
                        <p class="message-text" style="transition-delay: 300ms">è°¢è°¢ä½ æ¯å¤©çš„ç…§é¡¾ã€‚</p>
                        <p class="message-text" style="transition-delay: 500ms">æ˜¯ä½ è®©æˆ‘æˆä¸ºæœ€å¹¸ç¦çš„å­©å­ã€‚</p>
                        <p class="message-text" style="transition-delay: 700ms">ç¥ä½ æ°¸è¿œå¹´è½»æ¼‚äº®ï¼</p>
                        <p class="message-text font-bold text-xl text-red-500 mt-2" style="transition-delay: 900ms">æˆ‘çˆ±ä½ ï¼â¤ï¸</p>
                    </div>
                </div>

                <!-- ç¬¬äºŒé¡µï¼šç¾å¥½çš„å›å¿† -->
                <div id="page-2" class="page-content">
                    <h2 class="text-2xl font-bold text-purple-600 mb-4" style="font-family: 'ZCOOL KuaiLe'">ç¾å¥½å›å¿†</h2>
                    
                    <!-- ç…§ç‰‡ç›¸æ¡† (å¦‚æœæ²¡æœ‰ç…§ç‰‡ï¼Œè¿™é‡Œæ˜¾ç¤ºä¸€ä¸ªå¯çˆ±çš„å ä½å›¾) -->
                    <div class="w-full h-48 bg-purple-100 rounded-lg border-4 border-dashed border-purple-300 flex items-center justify-center mb-4 relative overflow-hidden group-hover:border-purple-400 transition">
                        <div class="text-center text-purple-400">
                            <span class="text-4xl">ğŸ“¸</span>
                            <p class="text-sm mt-2">åœ¨è¿™é‡Œè´´ä¸€å¼ æˆ‘ä»¬çš„åˆå½±</p>
                        </div>
                        <!-- å¦‚æœä½ æƒ³æ”¾çœŸå®ç…§ç‰‡ï¼ŒæŠŠä¸‹é¢çš„æ³¨é‡Šå»æ‰ï¼ŒæŠŠ src æ¢æˆç…§ç‰‡é“¾æ¥ -->
                         <img src="images/happy.png" class="absolute inset-0 w-full h-full object-cover">
                    </div>

                    <div class="text-gray-700 text-center space-y-2">
                        <p class="message-text" style="transition-delay: 100ms">è¿˜è®°å¾—æˆ‘ä»¬ä¸€èµ·å»å…¬å›­å—ï¼Ÿ</p>
                        <p class="message-text" style="transition-delay: 300ms">é‚£æ—¶å€™ä½ ç¬‘å¾—å¥½å¼€å¿ƒã€‚</p>
                        <p class="message-text" style="transition-delay: 500ms">æˆ‘æƒ³ä»¥åå¸¦ä½ å»æ›´å¤šåœ°æ–¹ç©ï¼</p>
                    </div>
                </div>

                <!-- ç¬¬ä¸‰é¡µï¼šçˆ±çš„å…‘æ¢åˆ¸ -->
                <div id="page-3" class="page-content">
                    <h2 class="text-2xl font-bold text-pink-600 mb-4" style="font-family: 'ZCOOL KuaiLe'">æˆ‘çš„ç¤¼ç‰©åˆ¸</h2>
                    <p class="text-sm text-gray-500 mb-4">å¦ˆå¦ˆå‡­æ­¤åˆ¸å¯ä»¥è®©æˆ‘åšè¿™äº›äº‹å“¦ï¼š</p>
                    
                    <div class="w-full flex flex-col items-center gap-2">
                        <div class="coupon shadow-sm" onclick="alert('å¦ˆå¦ˆä½¿ç”¨äº†ä¸€å¼ ã€æ¶èƒŒåˆ¸ã€‘ï¼è¯·é©¬ä¸Šæ‰§è¡Œï¼ğŸ’†â€â™€ï¸')">
                            <h3 class="font-bold text-lg">ğŸ’†â€â™€ï¸ æŒ‰æ‘©æ¶èƒŒåˆ¸</h3>
                            <p class="text-xs text-gray-500">æœ‰æ•ˆæœŸï¼šæ°¸ä¹…</p>
                        </div>
                        <div class="coupon shadow-sm" onclick="alert('ä½ ä¼šå»æ´—ç¢—ğŸ¥£ğŸ¥£ğŸ¥£')">
                            <h3 class="font-bold text-lg">ğŸ§¹ ä¸»åŠ¨åšå®¶åŠ¡åˆ¸</h3>
                            <p class="text-xs text-gray-500">ä¸å†å·æ‡’å•¦</p>
                        </div>
                        <div class="coupon shadow-sm" onclick="alert('ä¸è¦é¡¶å˜´ï¼ğŸ˜¶ğŸ˜¶"ï¼‰>
                            <h3 class="font-bold text-lg">ğŸ¤ ç»å¯¹å¬è¯åˆ¸</h3>
                            <p class="text-xs text-gray-500">ä¸é¡¶å˜´ï¼Œä¸æƒ¹ä½ ç”Ÿæ°”</p>
                        </div>
                    </div>
                    
                    <button onclick="fireConfetti(event)" class="mt-4 px-4 py-1 bg-pink-500 text-white text-sm rounded-full shadow-lg animate-pulse">
                        å†æ¬¡åº†ç¥ ğŸ‰
                    </button>
                </div>

                <!-- å¯¼èˆªæŒ‰é’® -->
                <div class="absolute bottom-4 left-0 right-0 flex justify-between px-6 z-10">
                    <button id="prevBtn" onclick="changePage(-1, event)" class="bg-gray-200 text-gray-600 rounded-full w-10 h-10 flex items-center justify-center opacity-0 disabled:opacity-0 transition">
                        â†
                    </button>
                    <!-- é¡µç æŒ‡ç¤ºå™¨ -->
                    <div class="flex gap-2 items-center">
                        <div id="dot-1" class="w-2 h-2 rounded-full bg-pink-500"></div>
                        <div id="dot-2" class="w-2 h-2 rounded-full bg-gray-300"></div>
                        <div id="dot-3" class="w-2 h-2 rounded-full bg-gray-300"></div>
                    </div>
                    <button id="nextBtn" onclick="changePage(1, event)" class="bg-pink-500 text-white rounded-full w-10 h-10 flex items-center justify-center shadow-lg hover:bg-pink-600 transition">
                        â†’
                    </button>
                </div>

            </div>
        </div>
    </div>

    <!-- JavaScript ä»£ç  -->
    <script>
        // --- é¡µé¢åˆ‡æ¢é€»è¾‘ ---
        let currentPage = 1;
        const totalPages = 3;

        function changePage(direction, event) {
            if(event) event.stopPropagation(); // é˜²æ­¢è§¦å‘ä¿¡å°ç¿»è½¬

            const newPage = currentPage + direction;

            if (newPage >= 1 && newPage <= totalPages) {
                // éšè—å½“å‰é¡µ
                document.getElementById(`page-${currentPage}`).classList.remove('active');
                document.getElementById(`dot-${currentPage}`).classList.replace('bg-pink-500', 'bg-gray-300');

                // æ˜¾ç¤ºæ–°é¡µé¢
                currentPage = newPage;
                document.getElementById(`page-${currentPage}`).classList.add('active');
                document.getElementById(`dot-${currentPage}`).classList.replace('bg-gray-300', 'bg-pink-500');
            }

            updateButtons();
        }

        function updateButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');

            if (currentPage === 1) {
                prevBtn.style.opacity = '0';
                prevBtn.style.pointerEvents = 'none';
            } else {
                prevBtn.style.opacity = '1';
                prevBtn.style.pointerEvents = 'auto';
            }

            if (currentPage === totalPages) {
                nextBtn.style.opacity = '0';
                nextBtn.style.pointerEvents = 'none';
            } else {
                nextBtn.style.opacity = '1';
                nextBtn.style.pointerEvents = 'auto';
            }
        }

        // --- æ ¸å¿ƒé€»è¾‘ ---

        // 1. åˆ›å»ºå•ä¸ªæ°”çƒå¹¶æ·»åŠ ç‚¹å‡»äº‹ä»¶
        function spawnSingleBalloon() {
            const container = document.getElementById('balloons-container');
            const balloon = document.createElement('div');
            
            balloon.innerHTML = 'ğŸˆ';
            balloon.classList.add('floating-balloon');
            
            // éšæœºä½ç½®å’Œå¤§å°
            balloon.style.left = Math.random() * 100 + 'vw';
            balloon.style.fontSize = (Math.random() * 100 + 80) + 'px'; // ä¿æŒå¤§æ°”çƒ 80-180px
            balloon.style.animationDuration = (Math.random() * 8 + 8) + 's';
            balloon.style.animationDelay = '0s'; // æ–°ç”Ÿæˆçš„æ°”çƒç«‹åˆ»å¼€å§‹é£˜
            
            // ç‚¹å‡»æ°”çƒçˆ†ç‚¸é€»è¾‘
            balloon.onclick = function(e) {
                e.stopPropagation(); // é˜²æ­¢ç‚¹å‡»ç©¿é€

                // å˜æˆçˆ†ç‚¸ç¬¦å·
                balloon.innerHTML = 'ğŸ’¥';
                balloon.style.opacity = '1';
                balloon.style.transform = 'scale(1.5)'; // ç¬é—´å˜å¤§
                balloon.style.animationPlayState = 'paused'; // åœæ­¢é£˜åŠ¨
                
                // 200æ¯«ç§’åç§»é™¤æ°”çƒï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªæ–°çš„
                setTimeout(() => {
                    balloon.remove();
                    // å»¶è¿Ÿä¸€ç‚¹ç‚¹ç”Ÿæˆæ–°çš„ï¼Œåˆ¶é€ éšæœºæ„Ÿ
                    setTimeout(spawnSingleBalloon, Math.random() * 1000 + 500); 
                }, 200);
            };

            container.appendChild(balloon);
        }

        // åˆå§‹åŒ–æ‰¹é‡ç”Ÿæˆæ°”çƒ
        function createBalloons() {
            const initialCount = 8; 
            for (let i = 0; i < initialCount; i++) {
                // ä¸ºäº†è®©åˆå§‹æ°”çƒåˆ†å¸ƒåœ¨å±å¹•ä¸åŒé«˜åº¦ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨è®¾ç½®ä¸€äº›åŠ¨ç”»å»¶è¿Ÿ
                setTimeout(spawnSingleBalloon, i * 300);
            }
        }

        // 2. Confetti æ•ˆæœ
        const canvas = document.getElementById('confetti-canvas');
        const ctx = canvas.getContext('2d');
        let confetti = [];

        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        function createConfettiPiece() {
            const colors = ['#ff718d', '#fdfa66', '#80ffdb', '#ffcbf2', '#a0c4ff'];
            return {
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height - canvas.height,
                color: colors[Math.floor(Math.random() * colors.length)],
                size: Math.random() * 15 + 10, 
                velocity: Math.random() * 3 + 2,
                angle: Math.random() * 6.28
            };
        }

        function drawConfetti() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            confetti.forEach((p, index) => {
                ctx.fillStyle = p.color;
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.size, 0, 2 * Math.PI);
                ctx.fill();
                p.y += p.velocity;
                p.x += Math.sin(p.angle) * 2;

                if (p.y > canvas.height) {
                    confetti[index] = createConfettiPiece();
                    confetti[index].y = -10;
                }
            });
            requestAnimationFrame(drawConfetti);
        }

        let isOpen = false;
        function openCard() {
            if (isOpen) return;
            
            const card = document.getElementById('card');
            card.classList.add('open');
            isOpen = true;

            for(let i=0; i<100; i++) {
                confetti.push(createConfettiPiece());
            }
            drawConfetti();
        }

        function fireConfetti(event) {
            if(event) event.stopPropagation();
            for(let i=0; i<50; i++) {
                confetti.push(createConfettiPiece());
            }
        }

        createBalloons(); // å¯åŠ¨æ°”çƒ
        updateButtons(); // åˆå§‹åŒ–æŒ‰é’®çŠ¶æ€

    </script>
</body>
</html>